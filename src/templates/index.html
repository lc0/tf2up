{% extends 'base.html' %}

{% block title %}
tf2up.ml - TensorFlow 2.0 upgrader service, even easier upgrade to TensorFlow 2.0
{% endblock %}

{% block header %}
<a class="logo" href="//tf2up.ml"><img src="/static/images/tf2.svg"></a>
<a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-text="http://tf2up.ml - @TensorFlow 2.0 upgrader service, even easier upgrade to #TensorFlow 2.0 by @lc0d3r" data-hashtags="TensorFlow" data-related="lc0d3r" data-show-count="false">Tweet</a>
{% endblock %}

{% block content %}

<h2><a href="#idea">Idea</a></h2>
Idea is to make upgrade process to <strong>TensorFlow</strong> 2.0 of your Jupyter notebooks even easier!<br>

Started as a conversation on Twitter:

<blockquote class="twitter-tweet tw-align-center" data-lang="en"><p lang="en" dir="ltr">I mean ipynb has json structure. Do you feel we should extend the converter? I am happy to contribute :)</p>&mdash; Sergii @ üîú #TFDevSummit (@lc0d3r) <a href="https://twitter.com/lc0d3r/status/1087479011654156293?ref_src=twsrc%5Etfw">January 21, 2019</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<h2><a href="#how">How</a></h2>
Just copy and paste the ipynd notebook's url here
<form id="redirectToUrlForm" onsubmit="redirectToUrlFromInput(event)">
    <input id="notebookUrl" type="text">
    <button id="submitUrlButton" type="submit">Convert</button>
</form>
<script>
    function redirectToUrlFromInput(event){
        event.preventDefault(); 
        hostUrl = location.port.toString().length > 0 ? location.protocol+location.hostname +':'+ location.port : location.protocol+location.hostname ;
        parsedUrl = document.getElementById("notebookUrl").value.toString();
        if(parsedUrl.match(/.*github\.com\/(.*)/) !== null){
            var notebookUrl = parsedUrl.replace(/.*github\.com\/(.*)/,hostUrl+'/\$1');
            console.log(notebookUrl);
            window.location.href = notebookUrl; 
        }else{
            alert("Please provide a GitHub url");
        }
        
        
    }
</script>
Or just replace <code>https://github.com/</code> with <code>http://tf2up.ml</code>.
For example, you would like to upgrade
<code class="scrollable">http://github.com/tensorflow/docs/blob/master/site/en/tutorials/keras/save_and_restore_models.ipynb</code>
you would need to replace url to
<code class="scrollable">http://tf2up.ml/tensorflow/docs/blob/master/site/en/tutorials/keras/save_and_restore_models.ipynb</code>
<a href="http://tf2up.ml/tensorflow/docs/blob/master/site/en/tutorials/keras/save_and_restore_models.ipynb" target="_blank">Example</a></a>

<h4><a href="#bookmarklet">Bookmarklet</a></h4>
Alternatively, you can simply use a <a href="https://en.wikipedia.org/wiki/Bookmarklet">Bookmarklet</a> for this.

Feel free to drag this one üëâ <a id="bookmarklet" href="javascript:(function()%7Bwindow.open(window.location.toString().replace(%2F.*github%5C.com%5C%2F(.*)%2F%2C'http%3A%2F%2Ftf2up.ml%2F%5C%241'))%7D)()">TF2up</a><br>

You can manually add a bookmarklet based on the code below. Just encode the code with <code>encodeURI</code> in your browser console.
<code class="scrollable">
javascript:(function(){window.open(window.location.toString().replace(/.*github\.com\/(.*)/,'http://tf2up.ml/\$1'));})()
</code>

Now, once you visit a GitHub repository with <code>ipynb</code> notebook, you can just click on the bookmarklet.<br>
Next, you are going to be redirected to page with a diff, showing the difference between original notebooks and a converted one.

<h2><a href="#demo">Demo</a></h2>
<img id="demo" src="https://camo.githubusercontent.com/82231f37f147fc4ee392bac01c627ed93b1aa6a0/687474703a2f2f672e7265636f726469742e636f2f706232307a38726b59302e676966" >


<h2><a href="#how-it-works">How it works</a></h2>
This project is standing on the shoulders of giants:
<ul>
    <li> TensorFlow's <a href="https://github.com/tensorflow/tensorflow/tree/master/tensorflow/tools/compatibility" target="_blank">tf_upgrade_v2</a> with brand new support of <a href="https://github.com/tensorflow/tensorflow/pull/25680">inline jupyter notebook conversion</a></li>
    <li><a href="https://github.com/jupyter/nbdime" target="_blank">nbdime</a> for generating nice diffs for before and after</li>
    <li><a href="https://kubernetes.io/" target="_blank">Kubernetes + Helm</a> for deploying this tiny service</li>
</ul>

Notes
<ul>
    <li>We cache files on the server, so if you have updated GitHub source, we can still show you old content</li>
</ul>

<h2><a href="#maker">Maker</a></h2>
The service was developed after work and on weekends by <a href="https://twitter.com/lc0d3r">Sergii Khomenko</a><br>
If you
<ul>
    <li>see anything unexpected üêõ</li>
    <li>would like to make this design better üë©üèΩ‚Äçüé® </li>
    <li>have any other awesome ideas üí°</li>
</ul>

Please reach out or simply tweet at me
<a href="https://twitter.com/intent/tweet?screen_name=lc0d3r&ref_src=twsrc%5Etfw" class="twitter-mention-button" data-text="Hi, Sergii! I have feedback for your http://tf2up.ml/: " data-related="lc0d3r" data-dnt="true" data-show-count="false">Tweet to @lc0d3r</a><br>

I am planning to open source the code, so stay tuned for the updates.

<h2><a href="#kudos">Kudos</a></h2>
Thanks to all amazing people, that in one or another way helped this project:
<ul>

    <li><a href="https://www.dariakorkuna.com/" target="_blank">Daria Korkuna</a> for creating logo</li>
    <li><a href="https://twitter.com/DynamicWebPaige" target="_blank">@DynamicWebPaige</a> for supporting and making TF community awesome</li>
    <li><a href="https://twitter.com/martin_wicke" target="_blank">Martin Wicke</a> for TF2, cake, and feedback</li>
    <li><a href="https://twitter.com/jerrykur" target="_blank">Jerry Kurata</a> for testing the early versions of the upgrader</li>

</ul>

<script lang="JavaScript">
    console.log("TensorFlow version is {{tf_version}}")
</script>
{% endblock %}

